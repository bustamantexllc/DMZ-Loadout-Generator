<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DMZ Loadout + Mission Generator</title>

<style>
:root{
  --bg0:#070A12; --bg1:#0B1220;
  --text:#EAF1FF; --muted:#A9B7D6;
  --accent:#6BE4FF; --accent2:#9B7CFF;
  --border:rgba(255,255,255,.10);
  --radius:22px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  color:var(--text);
  background:linear-gradient(180deg,var(--bg0),var(--bg1));
  padding:20px;
}
.wrap{max-width:1100px;margin:auto;display:grid;gap:18px;grid-template-columns:1.2fr .8fr}
@media(max-width:900px){.wrap{grid-template-columns:1fr}}

.card{
  border:1px solid var(--border);
  border-radius:var(--radius);
  background:rgba(255,255,255,.03);
}
.header{padding:16px;border-bottom:1px solid var(--border)}
.header h1{margin:0;font-size:20px}
.sub{color:var(--muted);font-size:13px}

.section{padding:14px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media(max-width:600px){.grid{grid-template-columns:1fr}}

.box{
  border:1px solid var(--border);
  border-radius:16px;
  padding:10px;
}
.label{font-size:11px;color:var(--muted);text-transform:uppercase}
.value{font-size:16px;font-weight:600;margin-top:4px}

button{
  border:none;
  border-radius:14px;
  padding:10px 14px;
  font-weight:700;
  cursor:pointer;
}
.primary{
  background:linear-gradient(90deg,var(--accent),var(--accent2));
  color:#061018;
}
.secondary{
  background:rgba(255,255,255,.05);
  color:var(--text);
}

.controls{display:flex;gap:10px;flex-wrap:wrap;padding:14px;border-top:1px solid var(--border)}

.toggle{
  display:flex;justify-content:space-between;align-items:center;
  border:1px solid var(--border);border-radius:16px;padding:10px;
}
.switch{
  width:44px;height:24px;border-radius:999px;background:#333;position:relative;cursor:pointer;
}
.switch::after{
  content:"";width:18px;height:18px;border-radius:50%;
  background:white;position:absolute;top:3px;left:3px;transition:.2s;
}
.switch.on{background:var(--accent)}
.switch.on::after{left:23px}

.hidden{display:none}
</style>
</head>

<body>
<div class="wrap">

<!-- LEFT -->
<div>
  <div class="card">
    <div class="header">
      <h1>DMZ Loadout + Mission Generator</h1>
      <div class="sub">Structured missions • regain-aware • stream ready</div>
    </div>

    <!-- LOADOUT -->
    <div class="section" id="loadoutSection">
      <h3>Loadout</h3>
      <div class="grid" id="loadoutGrid"></div>
    </div>

    <!-- MISSION -->
    <div class="section">
      <h3>Mission</h3>
      <div id="missionBox"></div>
    </div>

    <div class="controls">
      <button class="primary" onclick="roll()">ROLL</button>
      <button class="secondary" onclick="copyText()">COPY</button>
    </div>
  </div>
</div>

<!-- RIGHT -->
<div>
  <div class="card section">
    <h3>Mission Difficulty</h3>
    <input type="range" min="0" max="2" value="0" id="difficulty" oninput="updateDiff()">
    <div class="sub" id="diffLabel">Easy</div>
  </div>

  <div class="card section">
    <div class="toggle">
      <div>
        <b>Regain Mode</b>
        <div class="sub">Hides full loadout pools</div>
      </div>
      <div id="regainSwitch" class="switch" onclick="toggleRegain()"></div>
    </div>
  </div>

  <div class="card section" id="allOptions">
    <h3>All Loadout Options</h3>
    <div class="sub">Hidden when Regain is ON</div>
    <pre id="optionsText"></pre>
  </div>
</div>

</div>

<script>
const LOADOUT={
Primary:["M4","TAQ-56","Kastov 762","ISO Hemlock","Lachmann Sub","Fennec","RPK","MCPR-300"],
Secondary:["X12","P890","Basilisk","Combat Knife"],
Tactical:["Smoke","Stun","Snapshot","Spotter Scope"],
Lethal:["Semtex","Frag","Throwing Knife","Drill Charge"],
Field:["Munitions Box","Armor Box"],
Vest:["2-Plate","3-Plate","Comms","Medic","Stealth"],
Backpack:["Small","Medium","Large"]
};

const MISSIONS={
easy:[
["Complete 1 contract","Stay within one POI","Avoid PvP unless fired upon","Exfil first chopper"],
["Clear 1 Stronghold","Plates first, loot fast","No vehicles","No downs"]
],
normal:[
["Complete 2 contracts","Route nearby objectives","No Buy Stations","Exfil with full plates"],
["Loot 1 locked space","Smoke rotations","No UAV Towers","Extract valuables"]
],
spicy:[
["Complete 3 contracts","Fast rotations","One weapon only","Final exfil"],
["Loot 2 locked spaces","Commit fights","No vehicles","No deaths"]
]
};

let regain=false;

function roll(){
  const grid=document.getElementById("loadoutGrid");
  grid.innerHTML="";
  Object.keys(LOADOUT).forEach(k=>{
    const v=LOADOUT[k][Math.floor(Math.random()*LOADOUT[k].length)];
    grid.innerHTML+=`<div class="box"><div class="label">${k}</div><div class="value">${v}</div></div>`;
  });

  const d=document.getElementById("difficulty").value;
  const pool=d==0?MISSIONS.easy:d==1?MISSIONS.normal:MISSIONS.spicy;
  const m=pool[Math.floor(Math.random()*pool.length)];
  document.getElementById("missionBox").innerHTML=`
    <div class="box"><b>Objective:</b> ${m[0]}</div>
    <div class="box"><b>Approach:</b> ${m[1]}</div>
    <div class="box"><b>Constraint:</b> ${m[2]}</div>
    <div class="box"><b>Bonus:</b> ${m[3]}</div>
  `;
}

function updateDiff(){
  document.getElementById("diffLabel").innerText=["Easy","Normal","Spicy"][difficulty.value];
}

function toggleRegain(){
  regain=!regain;
  document.getElementById("regainSwitch").classList.toggle("on");
  document.getElementById("allOptions").classList.toggle("hidden",regain);
}

function copyText(){
  navigator.clipboard.writeText(document.body.innerText);
}
roll();
</script>
</body>
</html>
